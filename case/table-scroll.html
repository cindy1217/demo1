<!DOCTYPE html>
<htm>
<head>
	<meta charset="utf-8">
	<title>table切换</title>
	<link rel="stylesheet" type="text/css" href="css/base.css">
	<link rel="stylesheet" type="text/css" href="css/swiper.css">
	<link rel="stylesheet" type="text/css" href="css/index.css">
	<script type="text/javascript" src="js/jquery-1.11.1.js"></script>
</head>
<body>
	<header><a id="scroll-top">鲜艳的颜色 如同青春的色彩</a></header>
	<div class="wrap clearfix">
		<div class="fl" style="height: 1800px">
			<div class="table">
				<div class="nav">
					<ul>
						<li class="on">首页</li><li>资讯</li><li>新闻</li><li>列表</li>
					</ul>
				</div>
				<div class="table-hd">
					<ul>
						<li class="yellow"></li>
						<li class="pink none"></li>
						<li class="green none"></li>
						<li class="orange none"></li>
					</ul>
				</div>
			</div>
			<a  name="scroll-top" style="margin-top: 1200px;display: block;" href="#scroll-top">回到顶部</a>
		</div>
		<div class="fr">
			<div class="scroll-item"><div class="pink"></div><div class="orange"></div></div>
		</div>
	</div>	
</body>
</html>
<script type="text/javascript">
	//table切换
	$('.nav li').hover(function(){
		_this=$(this);
		_this.addClass('on').siblings().removeClass('on');
		$('.table-hd li').eq(_this.index()).show().siblings().hide()
	})
	//加载进度计时器
	$(function(){
		var loading ='<div class="loading_box"><div class="box"></div><img src="images/loading.gif"></div>' ;
		$('body').append(loading)
		setInterval(function(){
			$('.loading_box').fadeOut()
		},3000)
	})
	//左侧滚动悬浮定位
	function showAdv(){
		var decounce = null;
		var setTop = document.getElementsByClassName('scroll-item')[0].offsetTop
		window.onscroll=function(){
			var t = document.documentElement.scrollTop||document.body.scrollTop
			if (decounce) {
				clearTimeout(decounce)
			}
			decounce = setTimeout(function(){
				if( t > setTop){
					$('.scroll-item').css({"position":"fixed",top:0})
				}else{
					$('.scroll-item').css("position","relative")
				}
			},10)
		}
	}
	showAdv()
	 // function showFixedSearch() {
  //       var debounce = null;
  //       var setTop= document.getElementsByClassName('scroll-item')[0].offsetTop
  //       window.onscroll= function(){
  //           var t = document.documentElement.scrollTop||document.body.scrollTop;
  //           if(debounce){
  //               clearTimeout(debounce);
  //           }
  //           debounce = setTimeout(function(){
  //               if( t > setTop) {
  //                   $(".scroll-item").css({ position: "fixed", top: 0 })
  //               }else {
  //                   $(".scroll-item").css({ position: "relative" })
  //               }
                
  //           },10) 
  //       }    
  //   }
  //   showFixedSearch()
</script>